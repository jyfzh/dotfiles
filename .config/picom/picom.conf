# `xprop | grep WM_CLASS` is a useful command to get win id
corner-radius = 15;
rounded-corners-exclude = [
    "window_type = 'toolbar'",
    "class_g = 'i3bar'",
    "class_g = 'Polybar'",
    "class_g = 'eww-bar'",
    "class_g = 'eww-powermenu'",
];
round-borders = 1;
round-borders-exclude = [
#"class_g = 'TelegramDesktop'",
];

round-borders-rule = [
    "3:class_g      = 'XTerm'",
    "3:class_g      = 'URxvt'",
    "10:class_g     = 'Alacritty'",
    "15:class_g     = 'Signal'"
];

shadow = true;
shadow-radius = 30;
shadow-opacity = 0.5;
shadow-offset-x = -15;
shadow-offset-y = -15;

# Red color value of shadow (0.0 - 1.0, defaults to 0).
# shadow-red = 0
# Green color value of shadow (0.0 - 1.0, defaults to 0).
# shadow-green = 0
# Blue color value of shadow (0.0 - 1.0, defaults to 0).
# shadow-blue = 0

shadow-exclude = [
    "name = 'Notification'",
    "class_g = 'Conky'",
    "class_g = 'Polybar'",
    "_GTK_FRAME_EXTENTS@:c"
];


fading = true;

# Opacity change between steps while fading in. (0.01 - 1.0, defaults to 0.028)
fade-in-step = 0.015;

# Opacity change between steps while fading out. (0.01 - 1.0, defaults to 0.03)
fade-out-step = 0.1;

# The time between steps in fade step, in milliseconds. (> 0, defaults to 10)
fade-delta = 10

# Specify a list of conditions of windows that should not be faded.
# don't need this, we disable fading for all normal windows with wintypes: {}
fade-exclude = [
#"class_g = 'slop'"   # maim
]

no-fading-openclose = false

# Do not fade destroyed ARGB windows with WM frame. Workaround of bugs in Openbox, Fluxbox, etc.
no-fading-destroyed-argb = false



# Opacity of inactive windows. (0.1 - 1.0, defaults to 1.0)
inactive-opacity = 1;

# Opacity of window titlebars and borders. (0.1 - 1.0, disabled by default)
frame-opacity = 1.0;

# Default opacity for dropdown menus and popup menus. (0.0 - 1.0, defaults to 1.0)
menu-opacity = 1.0

# Let inactive opacity set by -i override the '_NET_WM_OPACITY' values of windows.
inactive-opacity-override = true;

# Default opacity for active windows. (0.0 - 1.0, defaults to 1.0)
active-opacity = 1;

# Dim inactive windows. (0.0 - 1.0, defaults to 0.0)
inactive-dim = 0.3

# Specify a list of conditions of windows that should always be considered focused.
focus-exclude = [
    "class_g = 'Polybar'",
];

# Use fixed inactive dim value, instead of adjusting according to window opacity.
inactive-dim-fixed = 0.3

# Specify a list of opacity rules, in the format `PERCENT:PATTERN`,
# like `50:name *= "Firefox"`. picom-trans is recommended over this.
# Note we don't make any guarantee about possible conflicts with other
# programs that set '_NET_WM_WINDOW_OPACITY' on frame or client windows.
opacity-rule = [
    "0:class_g  = 'conky'",
    "50:name     = 'Dunst'",
    "10:class_g    = 'eww-blur_full'",
    "80:class_g    = 'Alacritty'"
];


# Parameters for background blurring, see the *BLUR* section for more information.

# blur-method = "dual_kawase"
# blur-size = 12
# blur-deviation = false
# Blur background of semi-transparent / ARGB windows.
# blur-background = true;

# Blur background of windows when the window frame is not opaque.
# Implies:
#    blur-background
# Bad in performance, with driver-dependent behavior. The name may change.
#
# blur-background-frame = false;


# Use fixed blur strength rather than adjusting according to window opacity.
# blur-background-fixed = false;


# Specify the blur convolution kernel, with the following format:
# example:
#   blur-kern = "5,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1";
#
# blur-kern = ''
# blur-kern = "3x3box";
animations=true;
fade-out-step = 1;
fade-delta= 5;

blur: {
          method = "dual_kawase";
#method = "kernel";
          strength = 10;
          deviation =1.0;
# kernel = "11x11gaussian";
          background = false;
          background-frame = false;
          background-fixed = false;
          kern = "3x3box";
      }

# Exclude conditions for background blur.
blur-background-exclude = [
#"window_type = 'dock'",
#"window_type = 'desktop'",
#"class_g = 'URxvt'"
    "_GTK_FRAME_EXTENTS@:c"
];


# Daemonize process. Fork to background after initialization. Causes issues with certain (badly-written) drivers.
daemon = false
experimental-backends = true;
# Specify the backend to use: `xrender`, `glx`, or `xr_glx_hybrid`
# `xrender` is the default one.
backend = "glx";
vsync = true;

# Enable remote control via D-Bus. See the *D-BUS API* section below for more details.
dbus = true

mark-wmwin-focused = true;
mark-ovredir-focused = true;
detect-rounded-corners = true
detect-client-opacity = true;
detect-transient = true
detect-client-leader = true
refresh-rate = 0
use-damage = true
log-level = "info";

# Window type settings
#
# 'WINDOW_TYPE' is one of the 15 window types defined in EWMH standard:
#     "unknown", "desktop", "dock", "toolbar", "menu", "utility",
#     "splash", "dialog", "normal", "dropdown_menu", "popup_menu",
#     "tooltip", "notification", "combo", and "dnd".
#
# Following per window-type options are available: ::
#
#   fade, shadow:::
#     Controls window-type-specific shadow and fade settings.
#
#   opacity:::
#     Controls default opacity of the window type.
#
#   focus:::
#     Controls whether the window of this type is to be always considered focused.
#     (By default, all window types except "normal" and "dialog" has this on.)
#
#   full-shadow:::
#     Controls whether shadow is drawn under the parts of the window that you
#     normally won't be able to see. Useful when the window has parts of it
#     transparent, and you want shadows in those areas.
#
#   redir-ignore:::
#     Controls whether this type of windows should cause screen to become
#     redirected again after been unredirected. If you have unredir-if-possible
#     set, and doesn't want certain window to cause unnecessary screen redirection,
#     you can set this to `true`.
#
wintypes:
{
    normal = { full-shadow = true; };
    menu = { full-shadow = true; };
    tooltip = { fade = true; shadow = false; focus = true;};
    dock = { shadow = false; };
    dnd = { shadow = false; };
    popup_menu = { full-shadow = true; };
    utility = { full-shadow = true; };
    toolbar = { full-shadow = true; };
    notification = { opacity = 1; }
};

